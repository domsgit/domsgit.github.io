<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>飞点</title>
    <style media="screen">
      html, body {
        margin: 0;
        padding: 0;
        height: 100%;
        overflow: hidden;
      }
      #canvas {
        display: block;
        box-sizing: border-box;
        background-color: #000;
      }
    </style>
  </head>
<body>
<canvas id="canvas">
 你的浏览器不支持 canvas，请升级你的浏览器。
</canvas>
<script src="../src/index.js"></script>
<script>
  new CVS({
    onRender: function(i, caches) {
      const {ctx, options, width, height} = this
      // const {caches: {flyDots: caches}} = options
      let vdot = caches && caches[i]

      if(!vdot) {
        const size = Math.floor(Math.random() * 40)
        vdot = new this.VDot(
          new this.Dot(
            size + (width - 2 * size) * Math.random(),
            size + (height - 2 * size) * Math.random(),
            6 * Math.random() * Math.pow(-1, Math.random() > 0.5 ? 2 : 1),
            6 * Math.random() * Math.pow(-1, Math.random() > 0.5 ? 2 : 1)
          ),
          Math.floor(Math.random() * 40),
          this.randomHexColor())
      }

      vdot.render(this)

      return vdot
    },
    times: 50,
    isAnimation: true,
    cacheName: 'flyDots'
  })
</script>
</body>
</html>
